option_settings:
 "aws:elasticbeanstalk:application:environment":
  DJANGO_SETTINGS_MODULE: "mysite.settings"
  PYTHONPATH: "$PYTHONPATH"
 "aws:elasticbeanstalk:container:python":
  WSGIPath: "mysite/wsgi.py"
  StaticFiles: "/static/=www/static/"

container_commands:
 01_makemigrations:
  command: "python manage.py makemigrations --merge"
  leader_only: true
 02_migrate:
  command: "python manage.py migrate"
  leader_only: true
 03_collectstatic:
  command: "python manage.py collectstatic --noinput"
 04_createsu:
  command: "python manage.py createsu"
  leader_only: true
 05_chmod_sqlite:
  command: "chmod 666 db.sqlite3"

packages:
 yum:
  gcc-c++: []
  python36-devel: []
